***1주차 5일짜 20190517 수업***

***20190517 마지막업데이트***

# Week 1 - Day 5 - C
# 15 응용포인터
## 15.2 함수포인터와 void포인터

>ex 15-7 470p

함수포인터변수 정말 많이 나온다.

* `int(*fp)(int, int)` 
  * 함수포인터변수
    * 주소는 상수, 주소를 간접적으로 불러오는. 그래서 변수로 말하면 쉽다.
    * 함수포인터변수는 괄호열고닫고에 들어있어야한다.
    * 괄호안에 매개변수에 뭔가가 나와야 한다.
  * 정수형변수 2개를 매개변수로 넘겨봤고 정수형을 리턴하는 함수를 가리키는 함수포인터 변수 fp

괄호안에 포인터가 보이면 배열포인터 포인터배열 두개.

* `int * (*pa[4])(int **a, int (*pa)[4])`
  * 이중포인터는 포인터변수주소.
  * 포인터변수 주소 자체를 받으려면 이주오인터변수
* 정수형 포인터주솔르 넘겨받고 부분배열이 4개짜리인 배열포인터 pa 를 매개변수로 같는 정수형의 주소를 리턴하는 함수를 가르키는 함수포인터배열 pa

?

* 캐릭터형 포인터변수는 캐릭터형 포인터변수
* 정수형 포인터변수
* 떠블변수를 가지려면 떠블형 포인터변수
* 이차원 배열주소시작주소  저장하고 싶다 배열포인터 int (*pa)[4]

sum 위 주소를 받을 수 있다. 

`res = fp(10,20);`
* 함수포인터변수를 가지고 함수호출을 할 수 있다 

포인터는 변수다. 얘 얘 다 가리킬 수 있다. 하지만 c++ 참조느 ㄴ안된다.

fp 

>ex 15-8 472p 함수포인터 변수가 어디에 쓰였는지 찾아봐라

* 여기까진 초딩이면 이제부터 고딩이다.

함수포인터변수가 어디 쓰였는냐? 매개변수


* `void func(int(*fp)(int, int))` 별딱지 5개 
  * int, int 값 2개 넘겨받고
  * int 정수형 리턴하는
  * int(*fp)(int, int)
* 정수형 값을 2개를 넘겨받고 정수형을 리턴하는 함수를 가리키는 함수포인터 변수 fp를 매개변수를 가지고 반환값은 없는 함수 func



아까 코드와 다른 점은 함수호출시 연결하고자 하는 주소를 넘겼다!! 이게 가장 큰 핵심이다.!!!!!!! 

그래서 함수호출이 매개변수에 가있어야 한다.


### 15.2.3 void 포인터

페이지 자체에 별딱지 5개 

>ex 15-9 475p 

자료형을 개이치 않는다. 그냥 void


```c
	int a = 10;                           // int형 변수
	double b = 3.5;                       // double형 변수
	void *vp;                             // void 포인터

	vp = &a;                              // int형 변수의 주소 저장
	printf("a : %d\n", *(int *)vp);
    //변수 a의 주소 인티저. 정수형
    //근데 가져올 때는 casting 강제형변환 꼭 해야한다.
	vp = &b;                              // double형 변수의 주소 저장
	printf("b : %.1lf\n", *(double *)vp);
```


```c
*(int )vp) // 정수형 캐스팅

*(int *)vp) // vp 근데 얘는 포인터변수 주소, 그래서 무조건 주소가 와야 한다. 그래서 int 형의 주소로 강제 케스팅 하고 거기에 값! 

//vp 가져다 쓰려면
//먼저 int 형 주소로 바꾸고(int *) 그 주소의 값(*)을 찍기 위해 !
```


# 16 메모리 동적할당
## 16.1 동적 할당 함수
### 16.1.1 malloc, free 함수

>ex 16-1 487p 쳐보기


(int *)malloc(sizeof(int)); 중요.

* 멜록, 동적하당
* 배열, 생각보다 데이터 처리할 것이 많다 기억장소를 확보하고 싶다. 이 전 상황에서 우리는 설계를 배열로 한다. 우리가 공부한 자료형 중에 그나마 큰걸 다루는 것이 배열이다. 그런데 배열은 컴파일 시간에 만들어지고 끝이다. 만들어지고 지워지는 것이다. 그래서 더 많은 컴파일 해야한다. 그런데 멜록은 그게 필요없다. 예를 들면 아파트 미분양 때문에 힘들 때 경기 어려워서 힘들때 미분양 많아지는데 건설사 아파트 안지으면 안된다. 그래야지 회사가 돌아간다. 회사가 망한다. 땡땡건설 미분양 타격받아서 직원들 파견시켜서 해당영역 대기, 지금부터 아파트 분양하겠다 필요한 사람 오세요. 그러면 기본적인 살림살이 레지던시 좋게 해준다 했을 때 사람들 몰린다. 그런데 100명이 와서 분양. 그럼 회사는 100개 아파트 지어! 멜론 실행. 또 입소문 다음주에 3000명. 또 회사는 3000명 지어! 이게 맬록! 그런데 처음부터 3000세대지어버리면 사람이 안오면 망하는.이게 배열. 만들어놓고 안쓰면 망하는. 멜록은 프로그램이 돌때 메모리 할당해, 안쓰면 버리고 끝나면 버리고, 배열과 큰 차이점이다.


크게 다른 점은 프로그램이 돌아가는 중에 메모리를 할당할수 있다. 이게 동적할당 기가막힌 !! 특히 자료구조 같은 부분을 배우면

그래프 -> 유연한 자료구조 

멜ㄹ록 그때그때 상황에 맞게 할당하는, 그게 멜록!! 좋다. 최단 최소비용신장트리?
\

>ex 16-1 487p

멜록은 void로 할당! 그래서 캐스팅 꼭 필요


null 줄게 없으면 mnul;

ㅍc언어에서 포인터변수에 null 이란 의미는 아무것도 없다 0라는 으미

어느 주소를 가리키든 null을 가리키든

488

malloc 함수는 (void *)

490p 전체 별딱지 2개

* 컴파일러 `컴파일`, 어셈블러 `어셈블`
  * c언어 컴파일러가 컴파일하면 어셈블리어로 바뀐다. 
  * 어셈블리어가 어셈블러를 어셈블한다. 이게 기계어로 
    * 어셈블리어로 짜진 원시코드를 어셈블러가 어셈블한다.

멜록의 결과는 힙에 저장

* 프로그램의 메모리 영역은 5가지 기억부류(storage class) 
  1. 코드 영역
  2. 스택
  3. 기타 데이터 영역
  4. 힙
  5. .data

자료구조 방법론 책은 많다. 

뇌를 자극하는 알고리즘, 깔끔 설명 잘.
C로 구현한 알고리즘 해마.

카일 루든. 카이스트 전산학과 자료구조 교재
 algorithms with C


다 똑같은데 
* 할당영역 쓰레기 맬롭
* 할당영역을 0으로 캘롭
* 동적할당인데 또 재할당 받고 싶을때 리엘롭

동적할당의 개념 대책없이 할당해준다. 중구난방
이걸 해결 위서

경험담. 정적 배열 포인터배열로 서쿨러큐 환영큐로 돌려서 유스즈 언유스즈 곗고 무한대로 쓰게 만들었다. 결론, 맬록 너무 믿지 말아라.

멜록 관리 소스


>ex 16-4 501p

이제 응용, 

`strlen(temp) + 1` 널값 떄문에 1.


```c
char temp[80];     // 임시 char 배열
	char *str[3];      // 동적 할당 영역을 연결할 포인터 배열
	int i;             // 반복 제어 변수

		gets(temp);                                 // 문자열 입력
        //개행문자 널. 
		str[i] = (char *)malloc(strlen(temp) + 1);  // 문자열 저장 공간 할당
		strcpy(str[i], temp);                       // 동적 할당 영역에 문자열 복사
```

>도전실전예제 18 518 도전3 지금!

>설명. ** 쓰는 이유 안에.

# 17 사용자 정의 자료형
## 17.1 구조체



자료를 어떻게 관리? 1500명 관리하려면 변수선언만 1500번.
C언어에서 구조체는 C언어에 존재하는 자료형을 가져다가 이름. 
전화번호 숫자 아니다. 스트링 케릭터다.

같은 구조체가 여러개? 구조체 배열.
구조체 배열, 배열 인덱스 1500

그리고 이어지는 객체, 클래스.

> 521 17-1
자기정의 구조체, 없던 것을 만들었기에.

struct student
int num 
double grade


구조체 맴버 연산자
구조체 안으로 접근하기 위한 . 

524 다음주 패딩 ! 꼭 말해달라

525 !!! 중요!!!

527 중첩구조체 !! 중요

529


구조체 포인터 변수를 쓰면 기가막히게 !! 

>543p 17-7 

함수 불러올 때는 &me
정의 할 떄는 *



* 구조체 맴버 kor 로 갈 때는 절차가 있다. 변수 선언해서 . 으로 접근.
* 구조체 변수
* 구조체 포인터변수
  * 구조체 포인터변수로 맴버에 접근하려면 ->



# 오늘 과제

>**오늘 과제**
>>* 가감승제, 나머지까지 15-7

$$dy/dx, \mathrm{d}y/\mathrm{d}x, \frac{dy}{dx}, \frac{\mathrm{d}y}{\mathrm{d}x}, \frac{\partial^2}{\partial x_1\partial x_2}y	$$


$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}$$

$$ \begin{bmatrix}
a & b \\\\ 
c & d
\end{bmatrix}$$


---

[다시 # week 1 index 로](../w01.md)

[다시 # 전 과정 main 으로](../../README.md)



